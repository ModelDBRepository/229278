<html>
<p>This is the readme for the models and data associated with the paper:</p>
<p>Powers AR III, Mathys CH, Corlett PR (2017) Pavlovian conditioning-induced hallucinations result from overweighting of perceptual priors. <a href="http://dx.doi.org/10.1126/science.aan3458">Science</a>357(6351):596-600 [<a href="https://www.ncbi.nlm.nih.gov/pubmed?holding=modeldb&amp;term=28798131">PubMed</a>]</p>
<p>These files were contributed by Albert Powers.</p>
<p>System requirements:</p>
<p>Use of this code requires installation of MATLAB (<a href="https://www.mathworks.com/downloads/">https://www.mathworks.com/downloads/</a>) and the tapas toolbox (<a href="https://www.tnu.ethz.ch/en/software/tapas/documentations/hgf-toolbox-v30.html">https://www.tnu.ethz.ch/en/software/tapas/documentations/hgf-toolbox-v30.html</a>) as well as data generated by the Conditioned Hallucinations task 1.0.</p>
<p>Code</p>
<p></p>
<p>Documentation regarding the input and output variables are found in individual functions.</p>
<p>The following basic classes of functions are included (input: CH data structure):</p>
<p>ch_hgf_analysis - basic analysis of CH data with no constraints on parameters.</p>
<p>ch_hgf_calcx - calculation of x trajectory</p>
<p>ch_hgf_sim - generation of synthetic data using parameters fit from CH data.</p>
<p>The sub-types of functions (_startpoints, _nu, _nu2) correspond to functions that constrain initial model parameters by: 1) decreased precision on prior for trajectory starting points; 2) adding the variable nu that encodes relative weighting of priors versus sensory evidence precision in leading to decision-making; and 3) decreased precision on prior for nu.</p>
<p>Example:</p>
<p>To run the basic HGF analysis on data from participant ch_hc_03, load this participant’s data into the workspace:</p>
<p>load(‘ch_hc_03’);</p>
<p>Then run ch_hgf_analysis using this data structure and store the results as either a separate variable or a newly-updated version of ch_hc_03 (as is done below):</p>
<p>ch_hc_03 = ch_hgf_analysis(ch_hc_03);</p>
<p>Note that this also produces a figure depicting belief trajectories mu1-mu3, similar to Fig 3 BCD in the paper:</p>
<img src="./screenshot.png" alt="screenshot" width="650">
<p/>
Note: Reminder to beforehand add the paths to the analysis folder in this archive and the paths to the tapas toolbox by running the tapas_init command.<p/>
These commands can look like<p/>
cd HGF/analysis
<br/>
addpath(pwd)
<br/>
addpath('/Users/yourusername/Documents/MATLAB/tapas-master') % or whereever you installed tapas
<br/>
tapas_init
</html>
